!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).bulmaSlider=t()}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n={start:0,min:0,max:10,step:1,disabled:!1,showTooltip:!1,onReady:null,onChange:null},i=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,i),this.element="string"==typeof i?document.querySelector(i):i,this.options=e({},n,o),this.id=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}("bulmaSlider"),this.element){this.slider=this.element.querySelector("input[type=range]"),this.output=this.element.querySelector("output");var l=this.element.querySelector(".slider-fill"),u=this.element.querySelector(".slider-thumb");if(!l){var a=document.createElement("div");a.classList.add("slider-fill"),a.style.background="transparent",this.element.appendChild(a),l=a}if(!u){var s=document.createElement("div");s.classList.add("slider-thumb"),this.element.appendChild(s),u=s}this._ui={sliderContainer:this.element,sliderTrack:this.element.querySelector(".slider-track"),sliderFill:l,sliderThumb:u},this._listeners=[],this._onInputChange=this._onInputChange.bind(this),this._onSliderInput=this._onSliderInput.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._init()}else console.warn("An invalid selector or non-DOM node has been provided for bulmaSlider.")};return i.prototype={_init:function(){this._bindEvents(),this._setThumbPosition(),this.options.onReady&&"function"==typeof this.options.onReady&&this.options.onReady()},_bindEvents:function(){this.slider&&(this.slider.addEventListener("input",this._onSliderInput),this.slider.addEventListener("change",this._onInputChange)),this._ui.sliderContainer.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp)},_onInputChange:function(){this._setThumbPosition(),this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.value())},_onSliderInput:function(){this._setThumbPosition()},_onMouseDown:function(e){this._isMouseDown=!0,this._updateSliderFromMouseEvent(e)},_onMouseMove:function(e){this._isMouseDown&&this._updateSliderFromMouseEvent(e)},_onMouseUp:function(){this._isMouseDown=!1},_updateSliderFromMouseEvent:function(e){if(this.slider){var t=this._ui.sliderContainer.getBoundingClientRect(),r=(e.clientX-t.left)/t.width,n=this.options.min+r*(this.options.max-this.options.min);n=Math.max(this.options.min,Math.min(this.options.max,n)),this.slider.value=n,this._setThumbPosition(),this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.value())}},_setThumbPosition:function(){if(this.slider){var e=(this.slider.value-this.options.min)/(this.options.max-this.options.min)*100;this._ui.sliderFill.style.width=e+"%",this._ui.sliderThumb.style.left=e+"%"}},value:function(e){return void 0!==e?(this.slider.value=e,this._setThumbPosition(),this):parseFloat(this.slider.value)},min:function(e){return void 0!==e?(this.options.min=e,this.slider.min=e,this._setThumbPosition(),this):this.options.min},max:function(e){return void 0!==e?(this.options.max=e,this.slider.max=e,this._setThumbPosition(),this):this.options.max},step:function(e){return void 0!==e?(this.options.step=e,this.slider.step=e,this):this.options.step},disabled:function(e){return void 0!==e?(this.options.disabled=e,this.slider.disabled=e,this):this.options.disabled}},i});
